<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<!-- Root StackPane - Background + Content Layers -->
<StackPane xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="com.nhom.weatherdesktop.controller.AlertScreenController"
           styleClass="main-content">
    
    <!-- Background Layer -->
    <Region styleClass="alert-screen-background" />
    
    <!-- Content Layer with 2 Areas -->
    <VBox spacing="0" alignment="TOP_CENTER" style="-fx-background-color: transparent;">
        
        <!-- Area 1: Fixed Transparent Header (Top) - 60px height -->
        <AnchorPane prefHeight="60" minHeight="60" maxHeight="60" 
                    styleClass="alert-header-transparent">
            <!-- Delete Button positioned at top-right -->
            <Button fx:id="deleteAllButton" onAction="#handleDeleteAll" 
                    styleClass="icon-button" 
                    AnchorPane.rightAnchor="24" AnchorPane.topAnchor="12">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20" preserveRatio="true">
                        <image>
                            <Image url="@/icons/delete.png" />
                        </image>
                    </ImageView>
                </graphic>
            </Button>
            
            <!-- Refresh Button positioned next to delete button -->
            <Button fx:id="refreshButton" onAction="#handleRefresh" 
                    styleClass="icon-button" 
                    AnchorPane.rightAnchor="68" AnchorPane.topAnchor="12">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20" preserveRatio="true">
                        <image>
                            <Image url="@/icons/refresh.png" />
                        </image>
                    </ImageView>
                </graphic>
            </Button>
        </AnchorPane>
        
        <!-- Area 2: Scrollable Alert List (Bottom - fills remaining space) -->
        <StackPane VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">
            
            <!-- ScrollPane with alert list -->
            <ScrollPane fx:id="alertScrollPane" fitToWidth="true" 
                        styleClass="alert-scroll-pane" 
                        vbarPolicy="AS_NEEDED" hbarPolicy="NEVER">
                <padding>
                    <Insets bottom="24" left="24" right="24" top="12" />
                </padding>
                <VBox fx:id="alertListContainer" spacing="12" />
            </ScrollPane>
            
            <!-- Empty State -->
            <StackPane fx:id="emptyState" visible="false" managed="false">
                <VBox alignment="CENTER" spacing="12">
                    <padding>
                        <Insets bottom="24" left="24" right="24" top="24" />
                    </padding>
                    <Text styleClass="empty-state-text" text="No alerts" />
                    <Text styleClass="empty-state-subtext" text="You don't have any alerts yet" />
                </VBox>
            </StackPane>
            
        </StackPane>
        
    </VBox>
    
</StackPane>
