<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<StackPane xmlns="http://javafx.com/javafx/17.0.6" 
           xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="com.nhom.weatherdesktop.controller.LoginController"
           styleClass="login-root"
           stylesheets="@../../styles/base.css, @../../styles/components.css, @../../styles/pages/login.css">
    
    <!-- Background with gradient -->
    <Pane styleClass="bg-gradient-pastel" />
    
    <!-- Login Card Container -->
    <VBox alignment="CENTER" maxWidth="420" maxHeight="580" styleClass="card-glass">
        
        <!-- App Logo/Title Section -->
        <VBox alignment="CENTER" spacing="8">
            <ImageView fitWidth="64" fitHeight="64" preserveRatio="true">
                <image>
                    <Image url="@../../icons/logos/cloud.png" />
                </image>
            </ImageView>
            <Text text="Weather Desktop" styleClass="h1" />
            <Text text="Sign in to continue" styleClass="body text-secondary" />
            <VBox.margin>
                <Insets bottom="32"/>
            </VBox.margin>
        </VBox>
        
        <!-- Input Fields Section -->
        <VBox spacing="16">
            <!-- Username Field -->
            <VBox spacing="6">
                <Label text="Email or Username" styleClass="label-primary" />
                <TextField fx:id="usernameField" 
                          promptText="Enter your email" 
                          styleClass="input-modern" />
            </VBox>
            
            <!-- Password Field -->
            <VBox spacing="6">
                <Label text="Password" styleClass="label-primary" />
                <PasswordField fx:id="passwordField" 
                              promptText="Enter your password" 
                              styleClass="input-modern" />
            </VBox>
            
            <!-- Remember Me & Forgot Password Row -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <CheckBox fx:id="rememberMeCheckbox" 
                         text="Remember me" 
                         styleClass="checkbox-modern" />
                <Region HBox.hgrow="ALWAYS" />
                <Hyperlink fx:id="forgotPasswordLink" 
                          text="Forgot password?" 
                          styleClass="link-accent" 
                          onAction="#handleForgotPassword" />
            </HBox>
            
            <VBox.margin>
                <Insets bottom="8"/>
            </VBox.margin>
        </VBox>
        
        <!-- Login Button -->
        <Button fx:id="loginButton" 
                text="Sign In" 
                maxWidth="Infinity" 
                styleClass="btn-primary"
                onAction="#handleLogin">
            <VBox.margin>
                <Insets top="8" bottom="24"/>
            </VBox.margin>
        </Button>
        
        <!-- Divider -->
        <HBox alignment="CENTER" spacing="12">
            <HBox.margin>
                <Insets bottom="24"/>
            </HBox.margin>
            <Region prefWidth="80" styleClass="divider-line" />
            <Text text="or" styleClass="divider-text" />
            <Region prefWidth="80" styleClass="divider-line" />
        </HBox>
        
        <!-- Microsoft Account Login Button -->
        <Button fx:id="microsoftLoginButton" 
                maxWidth="Infinity" 
                styleClass="btn-secondary"
                onAction="#handleMicrosoftLogin">
            <graphic>
                <HBox spacing="8" alignment="CENTER">
                    <ImageView fitWidth="20" fitHeight="20" preserveRatio="true">
                        <image>
                            <Image url="@../../icons/logos/microsoft.png" />
                        </image>
                    </ImageView>
                    <Text text="Sign in with Microsoft" styleClass="microsoft-button-text" />
                </HBox>
            </graphic>
        </Button>
    </VBox>
    
</StackPane>
